{"version":3,"sources":["webpack:///solitaire.js","webpack:///webpack/bootstrap 96519816cc1927a811e0","webpack:///./frontend/js/app.js","webpack:///./frontend/js/game.js","webpack:///./frontend/js/polyfills.js","webpack:///./frontend/js/dragManager.js","webpack:///./frontend/js/stock.js","webpack:///./frontend/js/card.js","webpack:///./frontend/js/dragElement.js","webpack:///./frontend/js/avatar.js","webpack:///./frontend/js/foundation.js","webpack:///./frontend/js/dropTarget.js","webpack:///./frontend/js/pill.js","webpack:///./frontend/js/notification.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_game","_game2","element","document","getElementById","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","_polyfills","polyfills","_dragManager2","_dragManager3","_stock","_stock2","_foundation","_foundation2","_pill","_pill2","_notification","_notification2","installMatches","installClosest","installCustomEvent","Game","_dragManager","options","this","_this","getPrototypeOf","_el","_createFoundations","_createPillPlaces","querySelector","createDeck","_createPills","addEventListener","_changeAllowableCard","bind","_sendCardToFoundation","event","previousPlace","_findDropTarget","detail","changeAllowableCards","turnUpCard","_allFoundationsAreFulfilled","_showVictoryNotification","clickedCard","closest","parentNode","dataset","component","targetFoundation","filter","_foundations","elem","dropTarget","isCardAllowable","suit","dragElement","cardNumber","avatar","onDragStart","pageX","pageY","onDragEnd","_sendAllRemainingCardsToFoundations","querySelectorAll","forEach","_pillPlaces","j","parent","lastElementChild","card","giveCard","appendChild","turnUp","_this2","lastCard","findLastElement","every","children","place","position","text","Element","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","css","node","parentElement","CustomEvent","e","window","params","evt","bubbles","cancelable","undefined","createEvent","initCustomEvent","Event","dragManager","_preventStartOfDefaultBrowserDnD","_onMouseDown","_onMouseMove","_onMouseUp","preventDefault","which","_dragElement","_findDraggableElement","_downX","_downY","_avatar","moveX","moveY","Math","abs","_cleanUp","onDragMove","_dropTarget","hoveredElement","onDragCancel","_card","_card2","NUMBER_OF_SUITS","NUMBER_OF_CARDS_OF_ONE_SUIT","Stock","_cardPlace","_openCard","_newDeck","generatedCard","_generateRandomCard","topCard","_returnCardsToStock","turnDown","round","random","_dragElement2","CSS_SPRITE","cardWidth","cardHeight","offsetTop","offsetLeft","offsetBetweenCardsTop","offsetBetweenCardsLeft","Card","_DragElement","_suit","_cardNumber","side","_applyStyleForNewCard","_applyStyleForDownturnedCard","_applyStyleForUpturnedCard","classList","add","style","backgroundPosition","remove","_setBackgroundPosition","PositionY","PositionX","get","DECK","_avatar2","DragElement","createElement","downX","downY","_makeAvatar","initFromEvent","Avatar","dragElem","_old","nextSibling","left","top","zIndex","_shiftX","_shiftY","_currentHoveredElement","getElementUnderAvatarCenter","insertBefore","coords","getCoords","body","previousParent","box","getBoundingClientRect","pageYOffset","pageXOffset","elementFromPoint","width","height","_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getter","_dropTarget2","Foundation","_DropTarget","_allowableCards","lastElement","cardInfo","_isAvatarAllowable","avatarInfo","isCardSingle","firstElementChild","suitMatches","indexOf","cardMatches","DropTarget","getDragInfo","_takeAvatar","_generateSuccessDrop","newParent","dispatchEvent","Pill","contains","TOP_OFFSET_FOR_NOTIFICATION","RIGHT_OFFSET_FOR_NOTIFICATION","Notification","className","innerHTML","positionAt","anchor","offsetHeight","offsetWidth","right"],"mappings":"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","file":"solitaire.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./public/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _game = __webpack_require__(1);\n\t\n\tvar _game2 = _interopRequireDefault(_game);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _game2.default({\n\t    element: document.getElementById('container')\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _polyfills = __webpack_require__(2);\n\t\n\tvar polyfills = _interopRequireWildcard(_polyfills);\n\t\n\tvar _dragManager2 = __webpack_require__(3);\n\t\n\tvar _dragManager3 = _interopRequireDefault(_dragManager2);\n\t\n\tvar _stock = __webpack_require__(4);\n\t\n\tvar _stock2 = _interopRequireDefault(_stock);\n\t\n\tvar _foundation = __webpack_require__(8);\n\t\n\tvar _foundation2 = _interopRequireDefault(_foundation);\n\t\n\tvar _pill = __webpack_require__(10);\n\t\n\tvar _pill2 = _interopRequireDefault(_pill);\n\t\n\tvar _notification = __webpack_require__(11);\n\t\n\tvar _notification2 = _interopRequireDefault(_notification);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tpolyfills.installMatches(); //cross browser polyfill for 'matches' (does not supported by IE)\n\tpolyfills.installClosest(); //cross browser polyfill for 'closest' (does not supported by IE)\n\tpolyfills.installCustomEvent(); //cross browser polyfill for 'custom events' (does not supported by IE)\n\t\n\tvar Game = function (_dragManager) {\n\t    _inherits(Game, _dragManager);\n\t\n\t    function Game(options) {\n\t        _classCallCheck(this, Game);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Game).call(this, options));\n\t\n\t        _this._el = options.element;\n\t\n\t        _this._createFoundations();\n\t        _this._createPillPlaces();\n\t\n\t        _this._stock = new _stock2.default({\n\t            element: _this._el.querySelector('[data-component=\"stock\"]')\n\t        });\n\t        _this._stock.createDeck();\n\t\n\t        _this._createPills();\n\t\n\t        _this._el.addEventListener('successDrop', _this._changeAllowableCard.bind(_this));\n\t        _this._el.addEventListener('dblclick', _this._sendCardToFoundation.bind(_this));\n\t        return _this;\n\t    }\n\t\n\t    //-------------------- event handlers------------------\n\t\n\t\n\t    _createClass(Game, [{\n\t        key: '_changeAllowableCard',\n\t        value: function _changeAllowableCard(event) {\n\t            var previousPlace = this._findDropTarget(event.detail.previousPlace);\n\t\n\t            if (previousPlace) {\n\t                previousPlace.changeAllowableCards();\n\t\n\t                if (previousPlace.turnUpCard) {\n\t                    previousPlace.turnUpCard();\n\t                }\n\t            }\n\t\n\t            if (this._allFoundationsAreFulfilled()) {\n\t                this._showVictoryNotification();\n\t            }\n\t        }\n\t    }, {\n\t        key: '_sendCardToFoundation',\n\t        value: function _sendCardToFoundation(event) {\n\t            var clickedCard = event.target.closest('[data-side=\"upturned\"]');\n\t\n\t            if (!clickedCard || clickedCard.parentNode.dataset.component === 'foundation') {\n\t                return;\n\t            }\n\t\n\t            var targetFoundation = [].filter.call(this._foundations, function (elem) {\n\t                return elem.dropTarget.isCardAllowable({\n\t                    elem: clickedCard,\n\t                    suit: clickedCard.dragElement.suit,\n\t                    cardNumber: clickedCard.dragElement.cardNumber\n\t                });\n\t            })[0];\n\t\n\t            if (targetFoundation) {\n\t                var avatar = clickedCard.dragElement.onDragStart(event.pageX, event.pageY, event);\n\t                targetFoundation.dropTarget.onDragEnd(avatar);\n\t                this._sendAllRemainingCardsToFoundations();\n\t            }\n\t        }\n\t\n\t        //--------------------- main private methods-----------------\n\t\n\t    }, {\n\t        key: '_createFoundations',\n\t        value: function _createFoundations() {\n\t            this._foundations = this._el.querySelectorAll('[data-component=\"foundation\"]');\n\t\n\t            [].forEach.call(this._foundations, function (elem) {\n\t                new _foundation2.default({\n\t                    element: elem\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: '_createPillPlaces',\n\t        value: function _createPillPlaces() {\n\t            this._pillPlaces = this._el.querySelectorAll('[data-component=\"pill\"]');\n\t\n\t            [].forEach.call(this._pillPlaces, function (elem) {\n\t                new _pill2.default({\n\t                    element: elem\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: '_createPills',\n\t        value: function _createPills() {\n\t            for (var i = 0; i < this._pillPlaces.length; i++) {\n\t                for (var j = 0; j <= i; j++) {\n\t\n\t                    var parent = this._pillPlaces[i];\n\t                    while (parent.lastElementChild) {\n\t                        parent = parent.lastElementChild;\n\t                    }\n\t\n\t                    var card = this._stock.giveCard();\n\t                    parent.appendChild(card);\n\t\n\t                    if (j === i) {\n\t                        card.dragElement.turnUp();\n\t                        this._pillPlaces[i].dropTarget.changeAllowableCards();\n\t                    }\n\t                }\n\t            }\n\t        }\n\t\n\t        //------------------supported private methods----------------\n\t\n\t    }, {\n\t        key: '_sendAllRemainingCardsToFoundations',\n\t        value: function _sendAllRemainingCardsToFoundations() {\n\t            var _this2 = this;\n\t\n\t            if (this._el.querySelector('[data-side = \"downturned\"]')) {\n\t                return;\n\t            }\n\t\n\t            [].forEach.call(this._pillPlaces, function (elem) {\n\t                var lastCard = elem.dropTarget.findLastElement();\n\t\n\t                if (lastCard !== elem) {\n\t                    _this2._sendCardToFoundation({\n\t                        target: lastCard,\n\t                        pageX: 0,\n\t                        pageY: 0\n\t                    });\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: '_allFoundationsAreFulfilled',\n\t        value: function _allFoundationsAreFulfilled() {\n\t            return [].every.call(this._foundations, function (elem) {\n\t                return elem.children.length === 13;\n\t            });\n\t        }\n\t    }, {\n\t        key: '_showVictoryNotification',\n\t        value: function _showVictoryNotification() {\n\t            [].forEach.call(this._foundations, function (elem) {\n\t                elem.lastElementChild.dragElement = null;\n\t            });\n\t\n\t            new _notification2.default({\n\t                place: this._el,\n\t                position: 'centerUp',\n\t                text: 'Congratulations! You win!'\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Game;\n\t}(_dragManager3.default);\n\n\texports.default = Game;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.installMatches = installMatches;\n\texports.installClosest = installClosest;\n\texports.installCustomEvent = installCustomEvent;\n\tfunction installMatches() {\n\t\n\t    // проверяем поддержку\n\t    if (!Element.prototype.matches) {\n\t\n\t        // определяем свойство\n\t        Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector;\n\t    }\n\t}\n\t\n\tfunction installClosest() {\n\t\n\t    // проверяем поддержку\n\t    if (!Element.prototype.closest) {\n\t\n\t        // реализуем\n\t        Element.prototype.closest = function (css) {\n\t            var node = this;\n\t\n\t            while (node) {\n\t                if (node.matches(css)) return node;else node = node.parentElement;\n\t            }\n\t            return null;\n\t        };\n\t    }\n\t}\n\t\n\tfunction installCustomEvent() {\n\t    try {\n\t        new CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\n\t    } catch (e) {\n\t\n\t        window.CustomEvent = function (event, params) {\n\t            var evt;\n\t            params = params || {\n\t                bubbles: false,\n\t                cancelable: false,\n\t                detail: undefined\n\t            };\n\t            evt = document.createEvent(\"CustomEvent\");\n\t            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t            return evt;\n\t        };\n\t\n\t        CustomEvent.prototype = Object.create(window.Event.prototype);\n\t    }\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar dragManager = function () {\n\t    function dragManager(options) {\n\t        _classCallCheck(this, dragManager);\n\t\n\t        document.addEventListener('dragstart', dragManager._preventStartOfDefaultBrowserDnD);\n\t        document.addEventListener('mousedown', this._onMouseDown.bind(this));\n\t        document.addEventListener('mousemove', this._onMouseMove.bind(this));\n\t        document.addEventListener('mouseup', this._onMouseUp.bind(this));\n\t    }\n\t\n\t    _createClass(dragManager, [{\n\t        key: '_onMouseDown',\n\t        value: function _onMouseDown(event) {\n\t            event.preventDefault();\n\t\n\t            if (event.which != 1) {\n\t                return;\n\t            }\n\t\n\t            this._dragElement = dragManager._findDraggableElement(event);\n\t\n\t            if (!this._dragElement) {\n\t                return;\n\t            }\n\t\n\t            this._downX = event.pageX;\n\t            this._downY = event.pageY;\n\t        }\n\t    }, {\n\t        key: '_onMouseMove',\n\t        value: function _onMouseMove(event) {\n\t            event.preventDefault();\n\t\n\t            if (!this._dragElement) {\n\t                return;\n\t            }\n\t\n\t            if (!this._avatar) {\n\t                var moveX = event.pageX - this._downX;\n\t                var moveY = event.pageY - this._downY;\n\t\n\t                if (Math.abs(moveX) < 3 && Math.abs(moveY) < 3) {\n\t                    return;\n\t                }\n\t\n\t                this._avatar = this._dragElement.onDragStart(this._downX, this._downY, event);\n\t\n\t                if (!this._avatar) {\n\t                    this._cleanUp();\n\t                    return;\n\t                }\n\t            }\n\t\n\t            this._avatar.onDragMove(event);\n\t\n\t            this._dropTarget = this._findDropTarget(this._avatar.hoveredElement);\n\t        }\n\t    }, {\n\t        key: '_onMouseUp',\n\t        value: function _onMouseUp(event) {\n\t            event.preventDefault();\n\t\n\t            if (event.which != 1) {\n\t                return;\n\t            }\n\t\n\t            if (this._avatar) {\n\t\n\t                if (this._dropTarget) {\n\t                    this._dropTarget.onDragEnd(this._avatar, event);\n\t                } else {\n\t                    this._avatar.onDragCancel();\n\t                }\n\t            }\n\t\n\t            this._cleanUp();\n\t        }\n\t    }, {\n\t        key: '_findDropTarget',\n\t        value: function _findDropTarget(elem) {\n\t\n\t            while (elem !== document && !elem.dropTarget) {\n\t                elem = elem.parentNode;\n\t            }\n\t\n\t            if (!elem.dropTarget) {\n\t                return null;\n\t            }\n\t            return elem.dropTarget;\n\t        }\n\t    }, {\n\t        key: '_cleanUp',\n\t        value: function _cleanUp() {\n\t            this._dragElement = this._avatar = this._dropTarget = null;\n\t        }\n\t    }], [{\n\t        key: '_preventStartOfDefaultBrowserDnD',\n\t        value: function _preventStartOfDefaultBrowserDnD(event) {\n\t            event.preventDefault();\n\t        }\n\t    }, {\n\t        key: '_findDraggableElement',\n\t        value: function _findDraggableElement(event) {\n\t            var elem = event.target;\n\t\n\t            while (elem != document && !elem.dragElement) {\n\t                elem = elem.parentNode;\n\t            }\n\t\n\t            return elem.dragElement;\n\t        }\n\t    }]);\n\t\n\t    return dragManager;\n\t}();\n\n\texports.default = dragManager;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _card = __webpack_require__(5);\n\t\n\tvar _card2 = _interopRequireDefault(_card);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar NUMBER_OF_SUITS = 4;\n\tvar NUMBER_OF_CARDS_OF_ONE_SUIT = 13;\n\t\n\tvar Stock = function () {\n\t    function Stock(options) {\n\t        _classCallCheck(this, Stock);\n\t\n\t        this._el = options.element;\n\t\n\t        this._stock = this._el.querySelector('[data-selector=\"stock\"]');\n\t        this._cardPlace = this._el.querySelector('[data-selector=\"placeForOpenedCards\"]');\n\t\n\t        this._stock.addEventListener('click', this._openCard.bind(this));\n\t    }\n\t\n\t    _createClass(Stock, [{\n\t        key: 'createDeck',\n\t        value: function createDeck() {\n\t            this._newDeck = [[], [], [], []];\n\t            for (var i = 0; i < NUMBER_OF_CARDS_OF_ONE_SUIT * NUMBER_OF_SUITS; i++) {\n\t                var generatedCard = this._generateRandomCard();\n\t\n\t                new _card2.default({\n\t                    suit: generatedCard.suit,\n\t                    cardNumber: generatedCard.cardNumber,\n\t                    parent: this._stock\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: 'giveCard',\n\t        value: function giveCard() {\n\t            return this._stock.lastElementChild;\n\t        }\n\t    }, {\n\t        key: '_openCard',\n\t        value: function _openCard() {\n\t            var topCard = this._stock.lastElementChild;\n\t            if (topCard) {\n\t                topCard.dragElement.turnUp();\n\t                this._cardPlace.appendChild(topCard);\n\t            } else {\n\t                this._returnCardsToStock();\n\t            }\n\t        }\n\t    }, {\n\t        key: '_returnCardsToStock',\n\t        value: function _returnCardsToStock() {\n\t            var card = void 0;\n\t\n\t            while (card = this._cardPlace.lastElementChild) {\n\t                card.dragElement.turnDown();\n\t                this._stock.appendChild(card);\n\t            }\n\t        }\n\t    }, {\n\t        key: '_generateRandomCard',\n\t        value: function _generateRandomCard() {\n\t            var suit = void 0;\n\t            var cardNumber = void 0;\n\t\n\t            do {\n\t                suit = Math.round(Math.random() * (NUMBER_OF_SUITS - 1));\n\t                cardNumber = Math.round(Math.random() * (NUMBER_OF_CARDS_OF_ONE_SUIT - 1));\n\t            } while (this._newDeck[suit][cardNumber]);\n\t\n\t            this._newDeck[suit][cardNumber] = 'C';\n\t\n\t            return {\n\t                suit: suit,\n\t                cardNumber: cardNumber\n\t            };\n\t        }\n\t    }]);\n\t\n\t    return Stock;\n\t}();\n\n\texports.default = Stock;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _dragElement = __webpack_require__(6);\n\t\n\tvar _dragElement2 = _interopRequireDefault(_dragElement);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CSS_SPRITE = {\n\t    cardWidth: 90,\n\t    cardHeight: 132,\n\t    offsetTop: 1,\n\t    offsetLeft: 2,\n\t    offsetBetweenCardsTop: 2,\n\t    offsetBetweenCardsLeft: 2.2\n\t};\n\t\n\tvar Card = function (_DragElement) {\n\t    _inherits(Card, _DragElement);\n\t\n\t    function Card(options) {\n\t        _classCallCheck(this, Card);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Card).call(this, options));\n\t\n\t        _this._suit = options.suit;\n\t        _this._cardNumber = options.cardNumber;\n\t\n\t        _this._el.dataset.side = 'downturned';\n\t        _this._applyStyleForNewCard();\n\t\n\t        options.parent.appendChild(_this._el);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Card, [{\n\t        key: 'turnDown',\n\t        value: function turnDown() {\n\t            this._el.dataset.side = 'downturned';\n\t            this._applyStyleForDownturnedCard();\n\t        }\n\t    }, {\n\t        key: 'turnUp',\n\t        value: function turnUp() {\n\t            this._el.dataset.side = 'upturned';\n\t            this._applyStyleForUpturnedCard();\n\t        }\n\t\n\t        //---------------------non-logical methods changing styles---------------------------\n\t\n\t    }, {\n\t        key: '_applyStyleForNewCard',\n\t        value: function _applyStyleForNewCard() {\n\t            this._el.classList.add('card');\n\t            this._el.classList.add('downturned');\n\t        }\n\t    }, {\n\t        key: '_applyStyleForDownturnedCard',\n\t        value: function _applyStyleForDownturnedCard() {\n\t            this._el.style.backgroundPosition = '';\n\t            this._el.classList.add('downturned');\n\t        }\n\t    }, {\n\t        key: '_applyStyleForUpturnedCard',\n\t        value: function _applyStyleForUpturnedCard() {\n\t            this._el.classList.remove('downturned');\n\t            this._setBackgroundPosition();\n\t        }\n\t    }, {\n\t        key: '_setBackgroundPosition',\n\t        value: function _setBackgroundPosition() {\n\t            var PositionY = -CSS_SPRITE.offsetTop - (CSS_SPRITE.cardHeight + CSS_SPRITE.offsetBetweenCardsTop) * this._suit;\n\t            var PositionX = -CSS_SPRITE.offsetLeft - (CSS_SPRITE.cardWidth + CSS_SPRITE.offsetBetweenCardsLeft) * this._cardNumber;\n\t\n\t            this._el.style.backgroundPosition = PositionX + 'px ' + PositionY + 'px';\n\t        }\n\t    }, {\n\t        key: 'card',\n\t        get: function get() {\n\t            return Card.DECK[this._suit][this._cardNumber];\n\t        }\n\t    }, {\n\t        key: 'suit',\n\t        get: function get() {\n\t            return this._suit;\n\t        }\n\t    }, {\n\t        key: 'cardNumber',\n\t        get: function get() {\n\t            return this._cardNumber;\n\t        }\n\t    }], [{\n\t        key: 'DECK',\n\t        get: function get() {\n\t            return [['Ace of clubs', '2 of clubs', '3 of clubs', '4 of clubs', '5 of clubs', '6 of clubs', '7 of clubs', '8 of clubs', '9 of clubs', '10 of clubs', 'Jack of clubs', 'Queen of clubs', 'King of clubs'], ['Ace of diamonds', '2 of diamonds', '3 of diamonds', '4 of diamonds', '5 of diamonds', '6 of diamonds', '7 of diamonds', '8 of diamonds', '9 of diamonds', '10 of diamonds', 'Jack of diamonds', 'Queen of diamonds', 'King of diamonds'], ['Ace of hearts', '2 of hearts', '3 of hearts', '4 of hearts', '5 of hearts', '6 of hearts', '7 of hearts', '8 of hearts', '9 of hearts', '10 of hearts', 'Jack of hearts', 'Queen of hearts', 'King of hearts'], ['Ace of spades', '2 of spades', '3 of spades', '4 of spades', '5 of spades', '6 of spades', '7 of spades', '8 of spades', '9 of spades', '10 of spades', 'Jack of spades', 'Queen of spades', 'King of spades']];\n\t        }\n\t    }]);\n\t\n\t    return Card;\n\t}(_dragElement2.default);\n\n\texports.default = Card;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _avatar = __webpack_require__(7);\n\t\n\tvar _avatar2 = _interopRequireDefault(_avatar);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DragElement = function () {\n\t    function DragElement(options) {\n\t        _classCallCheck(this, DragElement);\n\t\n\t        this._el = document.createElement('div');\n\t        this._el.dragElement = this;\n\t    }\n\t\n\t    _createClass(DragElement, [{\n\t        key: '_makeAvatar',\n\t        value: function _makeAvatar() {\n\t            return new _avatar2.default(this._el);\n\t        }\n\t    }, {\n\t        key: 'onDragStart',\n\t        value: function onDragStart(downX, downY, event) {\n\t            var avatar = this._makeAvatar();\n\t\n\t            if (!avatar.initFromEvent(downX, downY, event)) {\n\t                return null;\n\t            }\n\t\n\t            return avatar;\n\t        }\n\t    }]);\n\t\n\t    return DragElement;\n\t}();\n\n\texports.default = DragElement;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Avatar = function () {\n\t    function Avatar(dragElem) {\n\t        _classCallCheck(this, Avatar);\n\t\n\t        this._el = dragElem;\n\t\n\t        this._old = {\n\t            parent: this._el.parentNode,\n\t            nextSibling: this._el.nextSibling,\n\t            position: this._el.style.position || '',\n\t            left: this._el.style.left || '',\n\t            top: this._el.style.top || '',\n\t            zIndex: this._el.style.zIndex || ''\n\t        };\n\t    }\n\t\n\t    _createClass(Avatar, [{\n\t        key: 'onDragMove',\n\t        value: function onDragMove(event) {\n\t            this._el.style.left = event.pageX - this._shiftX + 'px';\n\t            this._el.style.top = event.pageY - this._shiftY + 'px';\n\t\n\t            this._currentHoveredElement = Avatar.getElementUnderAvatarCenter(this._el);\n\t        }\n\t    }, {\n\t        key: 'onDragCancel',\n\t        value: function onDragCancel() {\n\t            this._old.parent.insertBefore(this._el, this._old.nextSibling);\n\t            this._el.style.position = this._old.position;\n\t            this._el.style.left = this._old.left;\n\t            this._el.style.top = this._old.top;\n\t            this._el.style.zIndex = this._old.zIndex;\n\t        }\n\t    }, {\n\t        key: 'onDragEnd',\n\t        value: function onDragEnd() {\n\t            //there could be some actions with avatar in case of success drop\n\t        }\n\t    }, {\n\t        key: 'initFromEvent',\n\t        value: function initFromEvent(downX, downY, event) {\n\t            if (event.target.dataset.side === 'downturned') {\n\t                return false;\n\t            }\n\t\n\t            var coords = Avatar.getCoords(this._el);\n\t            this._shiftX = downX - coords.left;\n\t            this._shiftY = downY - coords.top;\n\t\n\t            document.body.appendChild(this._el);\n\t            this._el.style.zIndex = 9999;\n\t            this._el.style.position = 'absolute';\n\t\n\t            return true;\n\t        }\n\t    }, {\n\t        key: 'getDragInfo',\n\t        value: function getDragInfo() {\n\t            // we can change this information according to the aim of our case\n\t            return {\n\t                elem: this._el,\n\t                suit: this._el.dragElement.suit,\n\t                cardNumber: this._el.dragElement.cardNumber,\n\t                previousParent: this._old.parent\n\t            };\n\t        }\n\t    }, {\n\t        key: 'hoveredElement',\n\t        get: function get() {\n\t            return this._currentHoveredElement;\n\t        }\n\t    }], [{\n\t        key: 'getCoords',\n\t        value: function getCoords(elem) {\n\t            var box = elem.getBoundingClientRect();\n\t\n\t            return {\n\t                top: box.top + pageYOffset,\n\t                left: box.left + pageXOffset\n\t            };\n\t        }\n\t    }, {\n\t        key: 'getElementUnderAvatarCenter',\n\t        value: function getElementUnderAvatarCenter(elem) {\n\t            var box = elem.getBoundingClientRect();\n\t\n\t            elem.classList.add('js-hidden');\n\t\n\t            var target = document.elementFromPoint(box.left + box.width / 2, box.top + box.height / 2);\n\t\n\t            elem.classList.remove('js-hidden');\n\t\n\t            if (!target || target === document) {\n\t                target = document.body;\n\t            }\n\t\n\t            return target;\n\t        }\n\t    }]);\n\t\n\t    return Avatar;\n\t}();\n\n\texports.default = Avatar;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _dropTarget = __webpack_require__(9);\n\t\n\tvar _dropTarget2 = _interopRequireDefault(_dropTarget);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Foundation = function (_DropTarget) {\n\t    _inherits(Foundation, _DropTarget);\n\t\n\t    function Foundation(options) {\n\t        _classCallCheck(this, Foundation);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Foundation).call(this, options));\n\t\n\t        _this._allowableCards = {\n\t            suit: [0, 1, 2, 3],\n\t            cardNumber: [0]\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Foundation, [{\n\t        key: 'changeAllowableCards',\n\t        value: function changeAllowableCards() {\n\t            var lastElement = this._el.lastElementChild;\n\t\n\t            if (lastElement) {\n\t                this._allowableCards.suit = [lastElement.dragElement.suit];\n\t                this._allowableCards.cardNumber = [lastElement.dragElement.cardNumber + 1];\n\t            } else {\n\t                this._allowableCards = {\n\t                    suit: [0, 1, 2, 3],\n\t                    cardNumber: [0]\n\t                };\n\t            }\n\t        }\n\t    }, {\n\t        key: 'isCardAllowable',\n\t        value: function isCardAllowable(cardInfo) {\n\t            return this._isAvatarAllowable(cardInfo);\n\t        }\n\t    }, {\n\t        key: '_isAvatarAllowable',\n\t        value: function _isAvatarAllowable(avatarInfo) {\n\t            var isCardSingle = !avatarInfo.elem.firstElementChild;\n\t            var suitMatches = this._allowableCards.suit.indexOf(avatarInfo.suit) > -1;\n\t            var cardMatches = this._allowableCards.cardNumber.indexOf(avatarInfo.cardNumber) > -1;\n\t\n\t            return suitMatches && cardMatches && isCardSingle;\n\t        }\n\t    }, {\n\t        key: '_takeAvatar',\n\t        value: function _takeAvatar(avatarInfo) {\n\t            _get(Object.getPrototypeOf(Foundation.prototype), '_takeAvatar', this).call(this, avatarInfo);\n\t            avatarInfo.elem.style.zIndex = this._el.children.length;\n\t\n\t            this.changeAllowableCards();\n\t        }\n\t    }]);\n\t\n\t    return Foundation;\n\t}(_dropTarget2.default);\n\n\texports.default = Foundation;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DropTarget = function () {\n\t    function DropTarget(options) {\n\t        _classCallCheck(this, DropTarget);\n\t\n\t        this._el = options.element;\n\t        options.element.dropTarget = this;\n\t    }\n\t\n\t    _createClass(DropTarget, [{\n\t        key: 'onDragEnd',\n\t        value: function onDragEnd(avatar) {\n\t            var avatarInfo = avatar.getDragInfo();\n\t\n\t            if (this._isAvatarAllowable(avatarInfo)) {\n\t                this._takeAvatar(avatarInfo);\n\t\n\t                this._generateSuccessDrop(avatarInfo);\n\t            } else {\n\t                avatar.onDragCancel();\n\t            }\n\t        }\n\t    }, {\n\t        key: '_isAvatarAllowable',\n\t        value: function _isAvatarAllowable(avatarInfo) {\n\t            // method for override\n\t            return true;\n\t        }\n\t    }, {\n\t        key: '_takeAvatar',\n\t        value: function _takeAvatar(avatarInfo) {\n\t            // method for possible override\n\t            this._el.appendChild(avatarInfo.elem);\n\t            avatarInfo.elem.style.position = 'absolute';\n\t            avatarInfo.elem.style.top = 0;\n\t            avatarInfo.elem.style.left = 0;\n\t        }\n\t    }, {\n\t        key: '_generateSuccessDrop',\n\t        value: function _generateSuccessDrop(avatarInfo) {\n\t            var event = new CustomEvent('successDrop', {\n\t                bubbles: true,\n\t                cancelable: true,\n\t                detail: {\n\t                    newParent: this._el,\n\t                    previousPlace: avatarInfo.previousParent\n\t                }\n\t            });\n\t\n\t            this._el.dispatchEvent(event);\n\t        }\n\t    }]);\n\t\n\t    return DropTarget;\n\t}();\n\n\texports.default = DropTarget;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _dropTarget = __webpack_require__(9);\n\t\n\tvar _dropTarget2 = _interopRequireDefault(_dropTarget);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Pill = function (_DropTarget) {\n\t    _inherits(Pill, _DropTarget);\n\t\n\t    function Pill(options) {\n\t        _classCallCheck(this, Pill);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Pill).call(this, options));\n\t\n\t        _this._allowableCards = {\n\t            suit: [0, 1, 2, 3],\n\t            cardNumber: [13]\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Pill, [{\n\t        key: 'changeAllowableCards',\n\t        value: function changeAllowableCards() {\n\t            var lastElement = this.findLastElement();\n\t\n\t            if (lastElement !== this._el) {\n\t                switch (lastElement.dragElement.suit) {\n\t                    case 0:\n\t                    case 3:\n\t                        {\n\t                            this._allowableCards.suit = [1, 2];\n\t                            break;\n\t                        }\n\t\n\t                    case 1:\n\t                    case 2:\n\t                        {\n\t                            this._allowableCards.suit = [0, 3];\n\t                            break;\n\t                        }\n\t                }\n\t\n\t                this._allowableCards.cardNumber = [lastElement.dragElement.cardNumber - 1];\n\t            } else {\n\t                this._allowableCards = {\n\t                    suit: [0, 1, 2, 3],\n\t                    cardNumber: [12]\n\t                };\n\t            }\n\t        }\n\t    }, {\n\t        key: 'findLastElement',\n\t        value: function findLastElement() {\n\t            var lastElement = this._el;\n\t            while (lastElement.lastElementChild) {\n\t                lastElement = lastElement.lastElementChild;\n\t            }\n\t\n\t            return lastElement;\n\t        }\n\t    }, {\n\t        key: 'turnUpCard',\n\t        value: function turnUpCard() {\n\t            var lastElement = this.findLastElement();\n\t            if (lastElement.classList.contains('downturned')) {\n\t                lastElement.dragElement.turnUp();\n\t            }\n\t        }\n\t    }, {\n\t        key: '_isAvatarAllowable',\n\t        value: function _isAvatarAllowable(avatarInfo) {\n\t            var suitMatches = this._allowableCards.suit.indexOf(avatarInfo.suit) > -1;\n\t            var cardMatches = this._allowableCards.cardNumber.indexOf(avatarInfo.cardNumber) > -1;\n\t\n\t            return suitMatches && cardMatches;\n\t        }\n\t    }, {\n\t        key: '_takeAvatar',\n\t        value: function _takeAvatar(avatarInfo) {\n\t            var parent = this.findLastElement();\n\t\n\t            parent.appendChild(avatarInfo.elem);\n\t            avatarInfo.elem.style.position = 'absolute';\n\t            avatarInfo.elem.style.top = 0;\n\t            avatarInfo.elem.style.left = 0;\n\t            avatarInfo.elem.style.zIndex = this._el.children.length;\n\t\n\t            this.changeAllowableCards();\n\t        }\n\t    }]);\n\t\n\t    return Pill;\n\t}(_dropTarget2.default);\n\n\texports.default = Pill;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar TOP_OFFSET_FOR_NOTIFICATION = 10;\n\tvar RIGHT_OFFSET_FOR_NOTIFICATION = 10;\n\t\n\tvar Notification = function () {\n\t    function Notification(options) {\n\t        _classCallCheck(this, Notification);\n\t\n\t        this._el = document.createElement('div');\n\t        this._el.className = \"notification\";\n\t        this._el.innerHTML = options.text;\n\t\n\t        var parent = options.place || document.body;\n\t        parent.appendChild(this._el);\n\t\n\t        this.positionAt(options);\n\t    }\n\t\n\t    _createClass(Notification, [{\n\t        key: 'positionAt',\n\t        value: function positionAt(options) {\n\t            var box = void 0;\n\t            var top = void 0;\n\t            var left = void 0;\n\t\n\t            if (options.anchor) {\n\t                box = options.anchor.getBoundingClientRect();\n\t            } else {\n\t                box = this._el.parentNode.getBoundingClientRect();\n\t            }\n\t\n\t            if (options.position) {\n\t                switch (options.position) {\n\t                    case 'center':\n\t                        {\n\t                            top = box.top + box.height / 2 - this._el.offsetHeight / 2;\n\t                            left = box.left + box.width / 2 - this._el.offsetWidth / 2;\n\t                            break;\n\t                        }\n\t                    case 'centerUp':\n\t                        {\n\t                            top = box.top + box.height / 4 - this._el.offsetHeight / 2;\n\t                            left = box.left + box.width / 2 - this._el.offsetWidth / 2;\n\t                            break;\n\t                        }\n\t                }\n\t            } else {\n\t                top = box.top + TOP_OFFSET_FOR_NOTIFICATION;\n\t                left = box.right - this._el.offsetWidth - RIGHT_OFFSET_FOR_NOTIFICATION;\n\t            }\n\t\n\t            this._el.style.top = top + 'px';\n\t            this._el.style.left = left + 'px';\n\t        }\n\t    }, {\n\t        key: 'show',\n\t        value: function show() {\n\t            this._el.classList.remove('js-hidden');\n\t        }\n\t    }, {\n\t        key: 'hide',\n\t        value: function hide() {\n\t            this._el.classList.add('js-hidden');\n\t        }\n\t    }]);\n\t\n\t    return Notification;\n\t}();\n\n\texports.default = Notification;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** solitaire.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./public/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 96519816cc1927a811e0\n **/","'use strict';\r\nimport Game from './game.js';\r\n\r\nnew Game({\r\n    element: document.getElementById('container')\r\n});\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/app.js\n **/","'use strict';\r\nimport * as polyfills from'./polyfills';\r\n\r\npolyfills.installMatches(); //cross browser polyfill for 'matches' (does not supported by IE)\r\npolyfills.installClosest(); //cross browser polyfill for 'closest' (does not supported by IE)\r\npolyfills.installCustomEvent(); //cross browser polyfill for 'custom events' (does not supported by IE)\r\n\r\n\r\nimport dragManager from './dragManager.js';\r\nimport Stock from './stock.js';\r\nimport Foundation from './foundation.js';\r\nimport Pill from './pill.js';\r\nimport Notification from './notification.js';\r\n\r\nexport default class Game extends dragManager {\r\n    constructor(options) {\r\n        super(options);\r\n        this._el = options.element;\r\n\r\n        this._createFoundations();\r\n        this._createPillPlaces();\r\n\r\n        this._stock = new Stock({\r\n            element: this._el.querySelector('[data-component=\"stock\"]')\r\n        });\r\n        this._stock.createDeck();\r\n\r\n        this._createPills();\r\n\r\n        this._el.addEventListener('successDrop', this._changeAllowableCard.bind(this));\r\n        this._el.addEventListener('dblclick', this._sendCardToFoundation.bind(this));\r\n}\r\n\r\n//-------------------- event handlers------------------\r\n    _changeAllowableCard(event) {\r\n        let previousPlace = this._findDropTarget(event.detail.previousPlace);\r\n\r\n        if (previousPlace) {\r\n            previousPlace.changeAllowableCards();\r\n\r\n            if (previousPlace.turnUpCard) {\r\n                previousPlace.turnUpCard();\r\n            }\r\n        }\r\n\r\n        if ( this._allFoundationsAreFulfilled() ) {\r\n           this._showVictoryNotification();\r\n        }\r\n    }\r\n\r\n    _sendCardToFoundation(event) {\r\n        let clickedCard = event.target.closest('[data-side=\"upturned\"]');\r\n\r\n        if (!clickedCard || clickedCard.parentNode.dataset.component ==='foundation') {\r\n            return;\r\n        }\r\n\r\n        let targetFoundation = [].filter.call(this._foundations,\r\n                elem => elem.dropTarget.isCardAllowable({\r\n                    elem: clickedCard,\r\n                    suit: clickedCard.dragElement.suit,\r\n                    cardNumber: clickedCard.dragElement.cardNumber\r\n        }))[0];\r\n\r\n        if(targetFoundation) {\r\n            let avatar = clickedCard.dragElement.onDragStart(event.pageX, event.pageY, event);\r\n            targetFoundation.dropTarget.onDragEnd(avatar);\r\n            this._sendAllRemainingCardsToFoundations();\r\n        }\r\n    }\r\n\r\n//--------------------- main private methods-----------------\r\n    _createFoundations() {\r\n        this._foundations = this._el.querySelectorAll('[data-component=\"foundation\"]');\r\n\r\n        [].forEach.call(this._foundations,(elem)=>{\r\n            new Foundation({\r\n                element: elem\r\n            });\r\n        });\r\n    }\r\n\r\n    _createPillPlaces() {\r\n        this._pillPlaces = this._el.querySelectorAll('[data-component=\"pill\"]');\r\n\r\n        [].forEach.call(this._pillPlaces,(elem)=>{\r\n            new Pill({\r\n                element: elem\r\n            });\r\n        });\r\n    }\r\n\r\n    _createPills() {\r\n        for (let i = 0; i < this._pillPlaces.length; i++ ) {\r\n            for (let j = 0; j <= i; j++) {\r\n\r\n                let parent = this._pillPlaces[i];\r\n                while(parent.lastElementChild) {\r\n                    parent = parent.lastElementChild;\r\n                }\r\n\r\n                let card = this._stock.giveCard();\r\n                parent.appendChild(card);\r\n\r\n                if (j === i) {\r\n                    card.dragElement.turnUp();\r\n                    this._pillPlaces[i].dropTarget.changeAllowableCards();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n//------------------supported private methods----------------\r\n    _sendAllRemainingCardsToFoundations() {\r\n        if ( this._el.querySelector('[data-side = \"downturned\"]') ) {\r\n            return;\r\n        }\r\n\r\n        [].forEach.call(this._pillPlaces,(elem)=>{\r\n            let lastCard = elem.dropTarget.findLastElement();\r\n\r\n            if (lastCard !== elem) {\r\n                this._sendCardToFoundation({\r\n                    target: lastCard,\r\n                    pageX: 0,\r\n                    pageY: 0\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    _allFoundationsAreFulfilled() {\r\n        return [].every.call(this._foundations, elem => elem.children.length === 13);\r\n    }\r\n\r\n    _showVictoryNotification() {\r\n        [].forEach.call(this._foundations,(elem)=>{\r\n            elem.lastElementChild.dragElement = null;\r\n        });\r\n\r\n        new Notification({\r\n            place: this._el,\r\n            position: 'centerUp',\r\n            text: 'Congratulations! You win!'\r\n        });\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/game.js\n **/","'use strict';\r\nexport function installMatches() {\r\n\r\n    // проверяем поддержку\r\n    if (!Element.prototype.matches) {\r\n\r\n        // определяем свойство\r\n        Element.prototype.matches = Element.prototype.matchesSelector ||\r\n        Element.prototype.webkitMatchesSelector ||\r\n        Element.prototype.mozMatchesSelector ||\r\n        Element.prototype.msMatchesSelector\r\n\r\n    }\r\n\r\n}\r\n\r\nexport function installClosest() {\r\n\r\n    // проверяем поддержку\r\n    if (!Element.prototype.closest) {\r\n\r\n        // реализуем\r\n        Element.prototype.closest = function(css) {\r\n            var node = this;\r\n\r\n            while (node) {\r\n                if (node.matches(css)) return node;\r\n                else node = node.parentElement;\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport function installCustomEvent() {\r\n    try {\r\n        new CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n    } catch (e) {\r\n\r\n        window.CustomEvent = function(event, params) {\r\n            var evt;\r\n            params = params || {\r\n                bubbles: false,\r\n                cancelable: false,\r\n                detail: undefined\r\n            };\r\n            evt = document.createEvent(\"CustomEvent\");\r\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n            return evt;\r\n        };\r\n\r\n        CustomEvent.prototype = Object.create(window.Event.prototype);\r\n    }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/polyfills.js\n **/","'use strict';\r\n\r\nexport default class dragManager {\r\n    constructor(options) {\r\n        document.addEventListener('dragstart', dragManager._preventStartOfDefaultBrowserDnD);\r\n        document.addEventListener('mousedown', this._onMouseDown.bind(this));\r\n        document.addEventListener('mousemove', this._onMouseMove.bind(this));\r\n        document.addEventListener('mouseup', this._onMouseUp.bind(this));\r\n    }\r\n\r\n    static _preventStartOfDefaultBrowserDnD(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    _onMouseDown(event) {\r\n        event.preventDefault();\r\n\r\n        if (event.which != 1) {\r\n            return;\r\n        }\r\n\r\n        this._dragElement = dragManager._findDraggableElement(event);\r\n\r\n        if (!this._dragElement) {\r\n            return;\r\n        }\r\n\r\n        this._downX = event.pageX;\r\n        this._downY = event.pageY;\r\n    }\r\n\r\n    _onMouseMove(event) {\r\n        event.preventDefault();\r\n\r\n        if (!this._dragElement) {\r\n            return;\r\n        }\r\n\r\n        if (!this._avatar) {\r\n            let moveX = event.pageX - this._downX;\r\n            let moveY = event.pageY - this._downY;\r\n\r\n            if ( Math.abs(moveX) < 3 && Math.abs(moveY) < 3 ) {\r\n                return;\r\n            }\r\n\r\n            this._avatar = this._dragElement.onDragStart(this._downX, this._downY, event);\r\n\r\n            if (!this._avatar) {\r\n                this._cleanUp();\r\n                return;\r\n            }\r\n        }\r\n\r\n        this._avatar.onDragMove(event);\r\n\r\n        this._dropTarget = this._findDropTarget(this._avatar.hoveredElement);\r\n    }\r\n\r\n    _onMouseUp(event) {\r\n        event.preventDefault();\r\n\r\n        if (event.which != 1) {\r\n            return;\r\n        }\r\n\r\n        if (this._avatar) {\r\n\r\n            if (this._dropTarget) {\r\n                this._dropTarget.onDragEnd(this._avatar, event);\r\n            } else {\r\n                this._avatar.onDragCancel();\r\n            }\r\n\r\n        }\r\n\r\n        this._cleanUp();\r\n    }\r\n\r\n    static _findDraggableElement(event) {\r\n        let elem = event.target;\r\n\r\n        while (elem != document && !elem.dragElement) {\r\n            elem = elem.parentNode;\r\n        }\r\n\r\n        return elem.dragElement;\r\n    }\r\n\r\n    _findDropTarget(elem) {\r\n\r\n        while (elem !== document && !elem.dropTarget) {\r\n            elem = elem.parentNode;\r\n        }\r\n\r\n        if (!elem.dropTarget) {\r\n            return null;\r\n        }\r\n        return elem.dropTarget;\r\n    }\r\n\r\n    _cleanUp() {\r\n        this._dragElement = this._avatar = this._dropTarget = null;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/dragManager.js\n **/","'use strict';\r\nimport Card from './card.js';\r\n\r\nconst NUMBER_OF_SUITS = 4;\r\nconst NUMBER_OF_CARDS_OF_ONE_SUIT = 13;\r\n\r\nexport default class Stock {\r\n    constructor(options) {\r\n        this._el = options.element;\r\n\r\n        this._stock = this._el.querySelector('[data-selector=\"stock\"]');\r\n        this._cardPlace = this._el.querySelector('[data-selector=\"placeForOpenedCards\"]');\r\n\r\n        this._stock.addEventListener('click', this._openCard.bind(this));\r\n    }\r\n\r\n    createDeck() {\r\n        this._newDeck = [[],[],[],[]];\r\n        for (let i = 0; i < (NUMBER_OF_CARDS_OF_ONE_SUIT * NUMBER_OF_SUITS); i++) {\r\n            let generatedCard = this._generateRandomCard();\r\n\r\n            new Card({\r\n                suit: generatedCard.suit,\r\n                cardNumber: generatedCard.cardNumber,\r\n                parent: this._stock\r\n            });\r\n        }\r\n    }\r\n\r\n    giveCard() {\r\n        return this._stock.lastElementChild;\r\n    }\r\n\r\n    _openCard() {\r\n        let topCard = this._stock.lastElementChild;\r\n        if (topCard) {\r\n            topCard.dragElement.turnUp();\r\n            this._cardPlace.appendChild(topCard);\r\n\r\n        } else {\r\n            this._returnCardsToStock();\r\n        }\r\n    }\r\n\r\n    _returnCardsToStock() {\r\n        let card;\r\n\r\n        while (card = this._cardPlace.lastElementChild) {\r\n            card.dragElement.turnDown();\r\n            this._stock.appendChild(card);\r\n        }\r\n    }\r\n\r\n    _generateRandomCard() {\r\n        let suit;\r\n        let cardNumber;\r\n\r\n        do {\r\n            suit = Math.round( Math.random()*(NUMBER_OF_SUITS - 1) );\r\n            cardNumber = Math.round( Math.random()*(NUMBER_OF_CARDS_OF_ONE_SUIT - 1) );\r\n        } while (this._newDeck[suit][cardNumber]);\r\n\r\n        this._newDeck[suit][cardNumber] = 'C';\r\n\r\n        return {\r\n            suit: suit,\r\n            cardNumber: cardNumber\r\n        };\r\n    }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/stock.js\n **/","'use strict';\r\n\r\nimport DragElement from './dragElement.js';\r\n\r\nconst CSS_SPRITE = {\r\n    cardWidth: 90,\r\n    cardHeight: 132,\r\n    offsetTop: 1,\r\n    offsetLeft: 2,\r\n    offsetBetweenCardsTop: 2,\r\n    offsetBetweenCardsLeft: 2.2\r\n};\r\n\r\nexport default class Card  extends DragElement{\r\n    constructor(options) {\r\n        super(options);\r\n\r\n        this._suit = options.suit;\r\n        this._cardNumber = options.cardNumber;\r\n\r\n        this._el.dataset.side = 'downturned';\r\n        this._applyStyleForNewCard();\r\n\r\n        options.parent.appendChild(this._el);\r\n    }\r\n\r\n    static get DECK() {\r\n        return [\r\n            ['Ace of clubs','2 of clubs','3 of clubs','4 of clubs','5 of clubs','6 of clubs','7 of clubs','8 of clubs','9 of clubs','10 of clubs','Jack of clubs','Queen of clubs','King of clubs'],\r\n            ['Ace of diamonds','2 of diamonds','3 of diamonds','4 of diamonds','5 of diamonds','6 of diamonds','7 of diamonds','8 of diamonds','9 of diamonds','10 of diamonds','Jack of diamonds','Queen of diamonds','King of diamonds'],\r\n            ['Ace of hearts','2 of hearts','3 of hearts','4 of hearts','5 of hearts','6 of hearts','7 of hearts','8 of hearts','9 of hearts','10 of hearts','Jack of hearts','Queen of hearts','King of hearts'],\r\n            ['Ace of spades','2 of spades','3 of spades','4 of spades','5 of spades','6 of spades','7 of spades','8 of spades','9 of spades','10 of spades','Jack of spades','Queen of spades','King of spades']\r\n        ]\r\n    }\r\n\r\n    get card() {\r\n        return Card.DECK[this._suit][this._cardNumber];\r\n    }\r\n\r\n    get suit() {\r\n        return this._suit;\r\n    }\r\n\r\n    get cardNumber() {\r\n        return this._cardNumber;\r\n    }\r\n\r\n    turnDown() {\r\n        this._el.dataset.side = 'downturned';\r\n        this._applyStyleForDownturnedCard();\r\n    }\r\n\r\n    turnUp() {\r\n        this._el.dataset.side = 'upturned';\r\n        this._applyStyleForUpturnedCard();\r\n    }\r\n\r\n//---------------------non-logical methods changing styles---------------------------\r\n\r\n    _applyStyleForNewCard() {\r\n        this._el.classList.add('card');\r\n        this._el.classList.add('downturned');\r\n    }\r\n\r\n    _applyStyleForDownturnedCard() {\r\n        this._el.style.backgroundPosition = '';\r\n        this._el.classList.add('downturned');\r\n    }\r\n\r\n    _applyStyleForUpturnedCard() {\r\n        this._el.classList.remove('downturned');\r\n        this._setBackgroundPosition();\r\n    }\r\n\r\n    _setBackgroundPosition() {\r\n        let PositionY = - CSS_SPRITE.offsetTop - (CSS_SPRITE.cardHeight + CSS_SPRITE.offsetBetweenCardsTop) * this._suit;\r\n        let PositionX = - CSS_SPRITE.offsetLeft - (CSS_SPRITE.cardWidth + CSS_SPRITE.offsetBetweenCardsLeft) * this._cardNumber;\r\n\r\n        this._el.style.backgroundPosition = PositionX + 'px ' + PositionY + 'px';\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/card.js\n **/","'use strict';\r\nimport Avatar from './avatar.js';\r\n\r\nexport default class DragElement {\r\n    constructor(options) {\r\n        this._el = document.createElement('div');\r\n        this._el.dragElement = this;\r\n    }\r\n\r\n    _makeAvatar() {\r\n        return new Avatar(this._el);\r\n    }\r\n\r\n    onDragStart(downX, downY, event) {\r\n        let avatar = this._makeAvatar();\r\n\r\n        if (!avatar.initFromEvent(downX, downY, event)) {\r\n            return null;\r\n        }\r\n\r\n        return avatar;\r\n    }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/dragElement.js\n **/","'use strict';\r\n\r\nexport default class Avatar {\r\n    constructor(dragElem) {\r\n        this._el = dragElem;\r\n\r\n        this._old = {\r\n            parent: this._el.parentNode,\r\n            nextSibling: this._el.nextSibling,\r\n            position: this._el.style.position || '',\r\n            left: this._el.style.left || '',\r\n            top: this._el.style.top || '',\r\n            zIndex: this._el.style.zIndex || ''\r\n        };\r\n\r\n    }\r\n\r\n    static getCoords(elem) {\r\n        var box = elem.getBoundingClientRect();\r\n\r\n        return {\r\n            top: box.top + pageYOffset,\r\n            left: box.left + pageXOffset\r\n        };\r\n    }\r\n\r\n    static getElementUnderAvatarCenter(elem) {\r\n        let box = elem.getBoundingClientRect();\r\n\r\n        elem.classList.add('js-hidden');\r\n\r\n        let target = document.elementFromPoint(box.left + box.width/2, box.top + box.height/2);\r\n\r\n        elem.classList.remove('js-hidden');\r\n\r\n        if (!target || target === document) {\r\n            target = document.body;\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    get hoveredElement() {\r\n        return this._currentHoveredElement;\r\n    }\r\n\r\n    onDragMove(event) {\r\n        this._el.style.left = event.pageX - this._shiftX + 'px';\r\n        this._el.style.top = event.pageY - this._shiftY + 'px';\r\n\r\n        this._currentHoveredElement = Avatar.getElementUnderAvatarCenter(this._el);\r\n    }\r\n\r\n    onDragCancel() {\r\n        this._old.parent.insertBefore(this._el, this._old.nextSibling);\r\n        this._el.style.position = this._old.position;\r\n        this._el.style.left = this._old.left;\r\n        this._el.style.top = this._old.top;\r\n        this._el.style.zIndex = this._old.zIndex;\r\n    }\r\n\r\n    onDragEnd() {\r\n        //there could be some actions with avatar in case of success drop\r\n    }\r\n\r\n    initFromEvent(downX, downY, event) {\r\n        if (event.target.dataset.side === 'downturned' ) {\r\n            return false;\r\n        }\r\n\r\n        let coords = Avatar.getCoords(this._el);\r\n        this._shiftX = downX - coords.left;\r\n        this._shiftY = downY - coords.top;\r\n\r\n        document.body.appendChild(this._el);\r\n        this._el.style.zIndex = 9999;\r\n        this._el.style.position = 'absolute';\r\n\r\n        return true;\r\n    }\r\n\r\n    getDragInfo() {\r\n        // we can change this information according to the aim of our case\r\n        return {\r\n            elem: this._el,\r\n            suit: this._el.dragElement.suit,\r\n            cardNumber: this._el.dragElement.cardNumber,\r\n            previousParent: this._old.parent\r\n        };\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/avatar.js\n **/","'use strict';\r\n\r\nimport DropTarget from './dropTarget.js';\r\n\r\n export default class Foundation  extends DropTarget {\r\n    constructor(options) {\r\n        super(options);\r\n        this._allowableCards = {\r\n            suit: [0, 1, 2, 3],\r\n            cardNumber: [0]\r\n        };\r\n    }\r\n\r\n    changeAllowableCards() {\r\n        let lastElement = this._el.lastElementChild;\r\n\r\n        if(lastElement) {\r\n            this._allowableCards.suit = [lastElement.dragElement.suit];\r\n            this._allowableCards.cardNumber = [lastElement.dragElement.cardNumber + 1];\r\n        } else {\r\n            this._allowableCards = {\r\n                suit: [0, 1, 2, 3],\r\n                cardNumber: [0]\r\n            };\r\n        }\r\n    }\r\n\r\n    isCardAllowable(cardInfo) {\r\n        return this._isAvatarAllowable(cardInfo);\r\n    }\r\n\r\n    _isAvatarAllowable(avatarInfo) {\r\n        let isCardSingle = !(avatarInfo.elem.firstElementChild);\r\n        let suitMatches = (this._allowableCards.suit.indexOf(avatarInfo.suit) > -1);\r\n        let cardMatches = (this._allowableCards.cardNumber.indexOf(avatarInfo.cardNumber) > -1);\r\n\r\n        return (suitMatches && cardMatches && isCardSingle);\r\n    }\r\n\r\n    _takeAvatar(avatarInfo) {\r\n        super._takeAvatar(avatarInfo);\r\n        avatarInfo.elem.style.zIndex = this._el.children.length;\r\n\r\n        this.changeAllowableCards();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/foundation.js\n **/","'use strict';\r\n\r\nexport default class DropTarget {\r\n    constructor(options) {\r\n        this._el = options.element;\r\n        options.element.dropTarget = this;\r\n    }\r\n\r\n    onDragEnd(avatar) {\r\n        let avatarInfo = avatar.getDragInfo();\r\n\r\n        if (this._isAvatarAllowable(avatarInfo)) {\r\n            this._takeAvatar(avatarInfo);\r\n\r\n            this._generateSuccessDrop(avatarInfo);\r\n        } else {\r\n            avatar.onDragCancel();\r\n        }\r\n    }\r\n\r\n    _isAvatarAllowable(avatarInfo) { // method for override\r\n        return true;\r\n    }\r\n\r\n    _takeAvatar(avatarInfo) { // method for possible override\r\n        this._el.appendChild(avatarInfo.elem);\r\n        avatarInfo.elem.style.position='absolute';\r\n        avatarInfo.elem.style.top = 0;\r\n        avatarInfo.elem.style.left = 0;\r\n    }\r\n\r\n    _generateSuccessDrop(avatarInfo) {\r\n        let event = new CustomEvent('successDrop', {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            detail: {\r\n                newParent: this._el,\r\n                previousPlace: avatarInfo.previousParent\r\n            }\r\n        });\r\n\r\n        this._el.dispatchEvent(event);\r\n\r\n\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/dropTarget.js\n **/","'use strict';\r\n\r\nimport DropTarget from './dropTarget.js';\r\n\r\nexport default class Pill extends DropTarget {\r\n    constructor(options) {\r\n        super(options);\r\n\r\n        this._allowableCards = {\r\n            suit: [0, 1, 2, 3],\r\n            cardNumber: [13]\r\n        };\r\n    }\r\n\r\n    changeAllowableCards() {\r\n        let lastElement = this.findLastElement();\r\n\r\n        if(lastElement !== this._el) {\r\n            switch (lastElement.dragElement.suit) {\r\n                case 0:\r\n                case 3: {\r\n                this._allowableCards.suit = [1,2];\r\n                break;\r\n                }\r\n\r\n                case 1:\r\n                case 2: {\r\n                    this._allowableCards.suit = [0,3];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this._allowableCards.cardNumber = [lastElement.dragElement.cardNumber - 1];\r\n\r\n        } else {\r\n            this._allowableCards = {\r\n                suit: [0, 1, 2, 3],\r\n                cardNumber: [12]\r\n            };\r\n        }\r\n    }\r\n\r\n    findLastElement() {\r\n        let lastElement = this._el;\r\n        while(lastElement.lastElementChild) {\r\n            lastElement = lastElement.lastElementChild;\r\n        }\r\n\r\n        return lastElement;\r\n    }\r\n\r\n    turnUpCard() {\r\n        let lastElement = this.findLastElement();\r\n        if (lastElement.classList.contains('downturned')) {\r\n            lastElement.dragElement.turnUp();\r\n        }\r\n    }\r\n\r\n    _isAvatarAllowable(avatarInfo) {\r\n        let suitMatches = (this._allowableCards.suit.indexOf(avatarInfo.suit) > -1);\r\n        let cardMatches = (this._allowableCards.cardNumber.indexOf(avatarInfo.cardNumber) > -1);\r\n\r\n        return (suitMatches && cardMatches);\r\n    }\r\n\r\n    _takeAvatar(avatarInfo) {\r\n        let parent = this.findLastElement();\r\n\r\n        parent.appendChild(avatarInfo.elem);\r\n        avatarInfo.elem.style.position='absolute';\r\n        avatarInfo.elem.style.top = 0;\r\n        avatarInfo.elem.style.left = 0;\r\n        avatarInfo.elem.style.zIndex = this._el.children.length;\r\n\r\n        this.changeAllowableCards();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/pill.js\n **/","'use strict';\r\nconst TOP_OFFSET_FOR_NOTIFICATION = 10;\r\nconst RIGHT_OFFSET_FOR_NOTIFICATION = 10;\r\n\r\nexport default class Notification {\r\n    constructor(options) {\r\n        this._el = document.createElement('div');\r\n        this._el.className = \"notification\";\r\n        this._el.innerHTML = options.text;\r\n\r\n        let parent = options.place || document.body;\r\n        parent.appendChild(this._el);\r\n\r\n        this.positionAt(options);\r\n    }\r\n\r\n    positionAt(options) {\r\n        let box;\r\n        let top;\r\n        let left;\r\n\r\n        if (options.anchor) {\r\n            box = options.anchor.getBoundingClientRect();\r\n        } else {\r\n            box = this._el.parentNode.getBoundingClientRect();\r\n        }\r\n\r\n        if (options.position) {\r\n            switch (options.position) {\r\n                case 'center': {\r\n                    top = box.top + box.height / 2 - this._el.offsetHeight / 2;\r\n                    left = box.left + box.width / 2 - this._el.offsetWidth / 2;\r\n                    break;\r\n                }\r\n                case 'centerUp': {\r\n                    top = box.top + box.height / 4 - this._el.offsetHeight / 2;\r\n                    left = box.left + box.width / 2 - this._el.offsetWidth / 2;\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            top = box.top + TOP_OFFSET_FOR_NOTIFICATION;\r\n            left = box.right - this._el.offsetWidth - RIGHT_OFFSET_FOR_NOTIFICATION;\r\n        }\r\n\r\n        this._el.style.top = top + 'px';\r\n        this._el.style.left = left + 'px';\r\n    }\r\n\r\n    show() {\r\n        this._el.classList.remove('js-hidden');\r\n    }\r\n\r\n    hide() {\r\n        this._el.classList.add('js-hidden');\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/js/notification.js\n **/"],"sourceRoot":""}